<div class="settings-page">
  <div class="container py-4">
    <div class="d-flex align-items-center justify-content-between mb-4">
      <div>
        <h2 class="mb-1">Settings</h2>
        <p class="text-muted mb-0">Personalize your SignFlow experience</p>
      </div>
      <div class="d-flex gap-2">
        <button class="btn btn-outline-secondary" (click)="backToDashboard()">Back to Dashboard</button>
        <button class="btn btn-danger" (click)="signOut()">Sign out</button>
      </div>
    </div>

    <div class="card shadow-sm mb-4">
      <div class="card-body">
        <div class="section-header">
          <h5 class="mb-1">Preferences</h5>
          <p class="text-muted small mb-0">Customize how SignFlow behaves</p>
        </div>

        <div class="setting-item">
          <div>
            <div class="title">Auto-save documents</div>
            <div class="text-muted small">Save progress while editing and signing</div>
          </div>
          <div class="form-check form-switch">
            <input class="form-check-input" type="checkbox" [(ngModel)]="autoSaveEnabled">
          </div>
        </div>

        <div class="setting-item">
          <div>
            <div class="title">Auto-download after signing</div>
            <div class="text-muted small">Download signed PDFs automatically</div>
          </div>
          <div class="form-check form-switch">
            <input class="form-check-input" type="checkbox" [(ngModel)]="autoDownloadEnabled">
          </div>
        </div>

        <div class="setting-item">
          <div>
            <div class="title">Timezone</div>
            <div class="text-muted small">Used for document timestamps</div>
          </div>
          <select class="form-select w-auto" [(ngModel)]="timezone">
            <option value="America/New_York">America/New_York (ET)</option>
            <option value="America/Chicago">America/Chicago (CT)</option>
            <option value="America/Denver">America/Denver (MT)</option>
            <option value="America/Los_Angeles">America/Los_Angeles (PT)</option>
            <option value="Asia/Kolkata">Asia/Kolkata (IST)</option>
            <option value="Europe/London">Europe/London (GMT)</option>
          </select>
        </div>

        <div class="setting-item">
          <div>
            <div class="title">Locale</div>
            <div class="text-muted small">Language and number formatting</div>
          </div>
          <select class="form-select w-auto" [(ngModel)]="locale">
            <option value="en-US">English (US)</option>
            <option value="en-GB">English (UK)</option>
            <option value="hi-IN">Hindi (India)</option>
            <option value="es-ES">Spanish</option>
          </select>
        </div>

        <div class="setting-item">
          <div>
            <div class="title">Date format</div>
            <div class="text-muted small">How dates appear across the app</div>
          </div>
          <select class="form-select w-auto" [(ngModel)]="dateFormat">
            <option value="short">Short (2/6/26)</option>
            <option value="medium">Medium (Feb 6, 2026)</option>
            <option value="long">Long (February 6, 2026)</option>
          </select>
        </div>

        <div class="setting-item align-items-start">
          <div>
            <div class="title">Default signature placement</div>
            <div class="text-muted small">Set a starting page and position</div>
          </div>
          <div class="signature-grid">
            <div>
              <label class="form-label small">Page</label>
              <input class="form-control" type="number" min="1" [(ngModel)]="signaturePlacement.page">
            </div>
            <div>
              <label class="form-label small">X</label>
              <input class="form-control" type="number" min="0" [(ngModel)]="signaturePlacement.x">
            </div>
            <div>
              <label class="form-label small">Y</label>
              <input class="form-control" type="number" min="0" [(ngModel)]="signaturePlacement.y">
            </div>
            <div>
              <label class="form-label small">Size</label>
              <input class="form-control" type="number" min="50" [(ngModel)]="signaturePlacement.size">
            </div>
          </div>
        </div>

        <div class="d-flex justify-content-end">
          <button class="btn btn-primary" (click)="savePreferences()">Save preferences</button>
        </div>
      </div>
    </div>

    <div class="card shadow-sm">
      <div class="card-body">
        <div class="section-header">
          <h5 class="mb-1">Security</h5>
          <p class="text-muted small mb-0">Change your password</p>
        </div>

        <div class="row g-3">
          <div class="col-md-4">
            <label class="form-label">Current password</label>
            <input class="form-control" type="password" [(ngModel)]="password.current">
          </div>
          <div class="col-md-4">
            <label class="form-label">New password</label>
            <input class="form-control" type="password" [(ngModel)]="password.next">
          </div>
          <div class="col-md-4">
            <label class="form-label">Confirm new password</label>
            <input class="form-control" type="password" [(ngModel)]="password.confirm">
          </div>
        </div>

        <div class="d-flex justify-content-end mt-3">
          <button class="btn btn-outline-primary" (click)="updatePassword()">Update password</button>
        </div>
      </div>
    </div>
  </div>
</div>
